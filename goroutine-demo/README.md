# 父协程与子协程生命周期关系示例

演示父协程结束后，子协程的行为。

## 核心结论

**当父协程（main函数）结束时，所有子协程都会被强制终止，无论子协程是否完成工作。**

## 示例说明

### 示例1: 父协程提前结束
- 父协程等待2秒就结束
- 子协程需要5秒才能完成工作
- **结果**: 子协程被强制终止，无法完成全部工作

### 示例2: 使用channel等待
- 使用channel让父协程等待子协程完成
- **结果**: 子协程能够完成全部工作

### 示例3: 多个子协程被终止
- 启动3个子协程
- 父协程等待1秒就结束
- **结果**: 所有子协程都被强制终止

### 示例4: 使用WaitGroup等待
- 使用sync.WaitGroup等待所有子协程完成
- **结果**: 所有子协程都能完成工作

## 最佳实践

1. **使用channel**: 适合单个子协程
2. **使用WaitGroup**: 适合多个子协程
3. **使用context**: 适合需要取消的场景
4. **避免**: 让父协程提前结束而不等待子协程

## 关键点

- Go程序在main函数结束时立即退出
- 所有未完成的goroutine都会被强制终止
- 必须显式等待子协程完成才能保证它们的工作不被中断
