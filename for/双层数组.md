在 Go 语言中，遍历一个二维切片 `[][]int`（即 `int` 类型的二维切片）有几种常用的方法。以下是主要的遍历方式：

### 方法一：使用 `for` 循环和索引 (C 风格)

这种方式通过索引 `i` 和 `j` 来访问每个元素，可以同时访问行和列的索引。

```go
package main

import "fmt"

func main() {
    matrix := [][]int{
        {1, 2, 3},
        {4, 5, 6},
        {7, 8, 9},
    }

    // 外层循环遍历每一行
    for i := 0; i < len(matrix); i++ {
        // 内层循环遍历当前行的每一个元素
        for j := 0; j < len(matrix[i]); j++ {
            fmt.Printf("matrix[%d][%d] = %d\n", i, j, matrix[i][j])
        }
    }
}
```

**优点**：可以方便地获取元素的行索引 `i` 和列索引 `j`。
**缺点**：代码相对冗长。

---

### 方法二：使用 `for range` 遍历行（推荐）

这是最常用和最推荐的方式。外层使用 `for range` 获取每一行，内层可以继续使用索引或再用 `for range`。

```go
package main

import "fmt"

func main() {
    matrix := [][]int{
        {1, 2, 3},
        {4, 5, 6},
        {7, 8, 9},
    }

    // 外层 range 遍历每一行
    for i, row := range matrix {
        // 内层遍历当前行的元素，使用索引 j
        for j, value := range row {
            fmt.Printf("matrix[%d][%d] = %d\n", i, j, value)
        }
    }
}
```

**优点**：
*   代码简洁、易读。
*   `range` 会自动处理切片长度，避免越界错误。
*   同时获得了索引 `i`, `j` 和值 `value`。

---

### 方法三：只遍历值（不关心索引）

如果你只关心二维切片中的值，而不需要知道它们的具体位置（索引），可以这样写：

```go
package main

import "fmt"

func main() {
    matrix := [][]int{
        {1, 2, 3},
        {4, 5, 6},
        {7, 8, 9},
    }

    for _, row := range matrix {     // 忽略行索引
        for _, value := range row {  // 忽略列索引
            fmt.Printf("值: %d ", value)
        }
        fmt.Println() // 每行结束后换行
    }
}
```

**输出**：
```
值: 1 值: 2 值: 3 
值: 4 值: 5 值: 6 
值: 7 值: 8 值: 9 
```

---

### 方法四：仅遍历行（将每一行作为一个整体处理）

当你需要对每一行进行操作，而不需要逐个访问行内的元素时：

```go
package main

import "fmt"

func main() {
    matrix := [][]int{
        {1, 2, 3},
        {4, 5, 6},
        {7, 8, 9},
    }

    for i, row := range matrix {
        fmt.Printf("第 %d 行: %v\n", i, row)
    }
}
```

**输出**：
```
第 0 行: [1 2 3]
第 1 行: [4 5 6]
第 2 行: [7 8 9]
```

### 重要注意事项

1.  **空切片和 nil 切片**：在遍历前，最好检查一下外层切片是否为 `nil` 或空，以避免潜在的运行时错误（虽然 `range` 在 `nil` 切片上是安全的，会直接跳过）。
    ```go
    if matrix == nil {
        fmt.Println("矩阵是 nil")
        return
    }
    // 然后进行遍历...
    ```

2.  **不规则矩阵**：`[][]int` 的每一行（子切片）的长度可以不同（即“不规则矩阵”）。使用 `len(matrix[i])` 来获取当前行的长度是安全的。

### 总结

*   **最常用**：**方法二** (`for i, row := range matrix { for j, value := range row { ... } }`)，因为它结合了简洁性、安全性和对索引的访问。
*   **只关心值**：使用方法三，忽略索引 `_`。
*   **需要索引**：使用方法一或方法二。
*   **处理整行**：使用方法四。